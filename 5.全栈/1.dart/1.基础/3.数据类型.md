# 3.æ•°æ®ç±»å‹

## 1.null

## 2.Number

- num
- int
- double

## 3.Strings

- String

```dart
var a1 = '222';
String a2 = "333";
String a3 = """
123
123
""";
print(a1 + a2)

String i = "aaa $a1 bbb $a2 ccc";
```

## 4.Booleans

- bool

## 5.Collections é›†åˆ

- List æœ‰åºçš„å…ƒç´ é›†åˆï¼Œå¯ä»¥åŒ…å«é‡å¤çš„å…ƒç´ 
- Set æ— åºçš„å…ƒç´ é›†åˆï¼Œä¸å…è®¸åŒ…å«é‡å¤å…ƒç´ 
- Map å­—å…¸ é”®å€¼å¯¹

`List`
```dart
var l1;
var l2 = [1];
var l3 = [...l2, ...?l1]; // ...? // é¿å…nullæ‰©å±•
var l4 = <String>["1", "2"];
var l5 = new List.empty(growable: true); // ä¸é™åˆ¶é•¿åº¦çš„ç©ºåˆ—è¡¨
var l6 = List.filled(3, 0); // å›ºå®šé•¿åº¦ä¸º3 å¡«å……0 è¶…å‡ºæŠ¥é”™
```

`Set`
```dart
var i1 = {1, 2, 3, 4, 5};
var i2 = <String>{"1", "2"};
Set i3 = new Set();
Set<int> i4 = new Set();
i4.addAll({1, 3, 5, 6, 7});
// print(i1[0]); // error ä¸èƒ½é€šè¿‡ä¸‹æ ‡å–å€¼
var i5 = i1.intersection(i4); // äº¤é›†
var i6 = i1.union(i4); // å¹¶é›†
var i7 = i1.difference(i4); // å·®é›† i1ä¸­i4çš„è¡¥é›† i1 - i4
print({i5, i6, i7}); // {{1, 3, 5}, {1, 2, 3, 4, 5, 6, 7}, {2, 4}}
```

`Map`
```dart
var m1 = {'a': 1, 'b': 2};
Map m2 = new Map();
m2['c'] = 3;
m2['d'] = 4;
m2[{1}] = 5;
m2[{2}] = 6;
// m1: {a: 1, b: 2}, m2: {c: 3, d: 4, {1}: 5, {2}: 6}
```

## 6.Records è®°å½•å‹

Recordsæ˜¯ä¸€ç§åŒ¿åçš„ã€ä¸å¯å˜çš„èšåˆç±»å‹ã€‚ä¸å…¶ä»–é›†åˆç±»å‹ä¸€æ ·ï¼Œå®ƒä»¬å…è®¸æ‚¨å°†å¤šä¸ªå¯¹è±¡æ†ç»‘åˆ°å•ä¸ªå¯¹è±¡ä¸­ã€‚ä¸å…¶ä»–é›†åˆç±»å‹ä¸åŒï¼ŒRecordsæ˜¯å›ºå®šå¤§å°çš„ã€å¼‚æ„çš„å’Œç±»å‹åŒ–çš„

Recordsæ˜¯çœŸå®çš„ä»·å€¼;æ‚¨å¯ä»¥å°†å®ƒä»¬å­˜å‚¨åœ¨å˜é‡ä¸­ï¼ŒåµŒå¥—å®ƒä»¬ï¼Œå°†å®ƒä»¬ä¼ é€’ç»™å‡½æ•°æˆ–ä»å‡½æ•°ä¼ é€’ï¼Œå¹¶å°†å®ƒä»¬å­˜å‚¨åœ¨åˆ—è¡¨ã€æ˜ å°„å’Œé›†åˆç­‰æ•°æ®ç»“æ„ä¸­ã€‚

```dart
var r = ('aaa', a: 123, 'bbb', b: 124);
log([r.a, r.b, r.$1, r.$2]);
// 0: 123, 1: 124, 2: aaa, 3: bbb
```

Recordsç±»å‹æ³¨é‡Šæ˜¯ç”¨é€—å·åˆ†éš”çš„ç±»å‹åˆ—è¡¨ï¼Œå®ƒä»¬è¢«æ‹¬åœ¨åœ†æ‹¬å·ä¸­ã€‚æ‚¨å¯ä»¥ä½¿ç”¨Recordsç±»å‹æ³¨é‡Šæ¥å®šä¹‰è¿”å›ç±»å‹å’Œå‚æ•°ç±»å‹ã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹(int, int)è¯­å¥æ˜¯è®°å½•ç±»å‹æ³¨é‡Š:

```dart
({int a,bool b}) temp = (a:0,b:true);
```

## 7.Runes å­—ç¬¦ä¸²çš„UTF-32å­—ç¬¦é›†

- åœ¨Dartä¸­ï¼ŒRunesä»£è¡¨å­—ç¬¦ä¸²çš„UTF-32å­—ç¬¦é›†, å¦ä¸€ç§Strings
- Unicodeä¸ºæ¯ä¸€ä¸ªå­—ç¬¦ã€æ ‡ç‚¹ç¬¦å·ã€è¡¨æƒ…ç¬¦å·ç­‰éƒ½å®šä¹‰äº† ä¸€ä¸ªå”¯ä¸€çš„æ•°å€¼
- ç”±äºDartå­—ç¬¦ä¸²æ˜¯UTF-16çš„å­—ç¬¦åºåˆ—ï¼Œæ‰€ä»¥åœ¨å­—ç¬¦ä¸²ä¸­è¡¨è¾¾32çš„å­—ç¬¦åºåˆ—å°±éœ€è¦æ–°çš„è¯­æ³•äº†
- é€šå¸¸ä½¿ç”¨\uXXXXçš„æ–¹å¼æ¥è¡¨ç¤º, è¿™é‡Œçš„XXXXæ˜¯4ä¸ª16è¿›åˆ¶çš„æ•°, å¦‚ï¼Œå¿ƒå½¢ç¬¦å·(â™¥)æ˜¯\u2665
- å¯¹äºé4ä¸ªæ•°å€¼çš„æƒ…å†µï¼ŒæŠŠç¼–ç å€¼æ”¾åˆ°å¤§æ‹¬å·ä¸­å³å¯, å¦‚ï¼Œç¬‘è„¸emoji (ğŸ˜†) æ˜¯\u{1f600}
- Stringç±»æœ‰ä¸€äº›å±æ€§å¯ä»¥æå–runeä¿¡æ¯
  - codeUnitAtå’ŒcodeUnitå±æ€§è¿”å›16ä¸ºå­—ç¬¦
  - ä½¿ç”¨runeså±æ€§æ¥è·å–å­—ç¬¦ä¸²çš„runesä¿¡æ¯

```dart
var clapping = '\u{1f44f}';
print(clapping); // ğŸ‘
print(clapping.codeUnits); // [55357, 56399]
print(clapping.runes.toList()); // [128079]

Runes runes = new Runes('\u2665, \u{1f605}, \u{1f60e}');
print(runes); // (9829, 44, 32, 128517, 44, 32, 128526)
print(new String.fromCharCodes(runes)); // â™¥, ğŸ˜…, ğŸ˜
```

ç”±äºRunesä¹Ÿæ˜¯ç»§æ‰¿äºIterable, æ‰€ä»¥Runesä¸­çš„å±æ€§å’Œæ–¹æ³•çš„ä½¿ç”¨ä¹Ÿå’ŒIterableä¸€æ ·

## 8.Symbols

- ä¸€ä¸ªSymbolå¯¹è±¡ä»£è¡¨Dartç¨‹åºä¸­å£°æ˜çš„æ“ä½œç¬¦æˆ–è€…æ ‡è¯†ç¬¦
- ä¹Ÿè®¸ä¸ä¼šç”¨åˆ°Symbolï¼Œä½†æ˜¯è¯¥åŠŸèƒ½å¯¹äºé€šè¿‡åå­—æ¥å¼•ç”¨æ ‡è¯†ç¬¦çš„æƒ…å†µ æ˜¯éå¸¸æœ‰ä»·å€¼çš„ï¼Œç‰¹åˆ«æ˜¯æ··æ·†åçš„ä»£ç ï¼Œæ ‡è¯†ç¬¦çš„åå­—è¢«æ··æ·†äº†ï¼Œä½†æ˜¯Symbolçš„åå­—ä¸ä¼šæ”¹å˜
- ä½¿ç”¨Symbolå­—é¢é‡æ¥è·å–æ ‡è¯†ç¬¦çš„symbolå¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯åœ¨æ ‡è¯†ç¬¦å‰é¢æ·»åŠ ä¸€ä¸ª # ç¬¦å·
- è·å–symbol å¯¹è±¡

```dart
var sym1 = Symbol('name1');
print(sym1); // Symbol("name1")
```

- #å·åˆ›å»º

```dart
var sym2 = #name2;
print(sym2); // Symbol("name2")
```

## 8.Generics æ³›å‹

æ³›å‹ï¼ˆGenericsï¼‰å…è®¸æˆ‘ä»¬åœ¨ç±»ã€æ–¹æ³•å’Œæ¥å£ä¸­ä½¿ç”¨å ä½ç¬¦æ¥ä»£è¡¨ç±»å‹ï¼Œä½¿ä»£ç åœ¨ä¸åŒç±»å‹é—´å…·æœ‰æ›´å¥½çš„é€šç”¨æ€§å’Œé‡ç”¨æ€§ã€‚Dart ä½¿ç”¨ <...> è¯­æ³•æ ‡è®°æ³›å‹ç±»å‹ã€‚

```dart
// å˜é‡æ³›å‹
var g1 = <int>[1];
g1.addAll([2, 3]); // [1, 2, 3]
// g1.add("1"); // error
var g2 = <String>{'111', '222'};
var g3 = <String, String>{"a": "a", "b": "b"};

// ç±»æ³›å‹
abstract class Cache<T> {
T getByKey(String key);
void setByKey(String key, T value);
}

class CacheTest<T> extends Cache<T> {
  Map map = new Map();

  @override
  T getByKey(String key) {
    return map[key];
  }

  @override
  void setByKey(String key, T value) {
    map[key] = value;
  }
}

// å‡½æ•°æ³›å‹
T getCacheFirst<T>(List<T> list) {
  return list[0];
}
```
> ä¼˜ç‚¹
- ç±»å‹å®‰å…¨
- å‡å°‘ä»£ç é‡å¤

## 9.Typedefs åˆ«å

```dart
// åˆ«å
typedef IntList = List<int>;
IntList il = [1, 2, 3];

typedef ListMap<X> = Map<X, List<X>>;

typedef Compare<T> = int Function(int a, int b);
int sort(int a, int b) => a - b;

void typedefTest() {
  assert(sort(1, 2) is Compare<int>); // true
}
```

## 10 Functions å‡½æ•°

```dart
int add1(int x) {
  return x + 1;
}

// å¯é€‰å‚æ•° y z
int add2(int x, [int? y, int? z]) {
  return x + y! + z!;
}
add2(1, 2);

// é»˜è®¤å€¼
int add3(int x, [int y = 1, int z = 1]) {
  return x + y + z;
}

// å®šä¹‰å‘½åå‚æ•°
int add4(int x, {int y = 1, int z = 1}) {
  return x + y + z;
}
add4(1, y:2);
```